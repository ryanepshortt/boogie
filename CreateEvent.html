<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Boogie: New Event</title>
		<link rel="stylesheet" type="text/css" href="form.css"/>
		<link rel="stylesheet" type="text/css" href="navbar.css"/>
		<script src="https://kit.fontawesome.com/c3f6c26ab6.js" crossorigin="anonymous"></script>
	</head>
	
	<body> 
	<!--Menu Bar for the Website -->
		<div class="navbar" id="myNavBar3">
			<a href="index.html" class="title">Boogie</a>
			<span class="buttons">
				<a href="index.html" class="fas fa-home"></a>
				<a href="TalentBar.html" id="star" class="fas fa-star"></a>
				<a href="NewPost.html" class="fas fa-edit"></a>
			</span>
			<a class="menuButton" onclick="toggleMenu()"><i class="fas fa-bars"></i></a>
		</div>
		<div class="page" id="p3"> 
			<section class="pageInfo">
				<section class="newPostBody">
					<form name="form1" class="eventForm" method="POST" action="mailto:r.shortt98@gmail.com" onsubmit="return submitForm();">
						<h4>Event Name  <span class="required">*</span></h4>
							<input type="text" name="eventName"> 
						<h4>Event Type  <span class="required">*</span></h4>
							<label> <input type="radio" name="eventType" value="Party" onclick="closeInput()"> Party </label>
							<label> <input type="radio" name="eventType" value="BarEvent" onclick="closeInput()"> Bar Event </label>
							<label> <input type="radio" name="eventType" value="ClubEvent" onclick="closeInput()"> Club Event </label>
							<label> <input type="radio" name="eventType" value="LiveMusic" onclick="closeInput()"> Live Music </label>
							<label> <input type="radio" name="eventType" value="Other" onclick="openInput()"> Other </label>
						<br>
						<div id="otherInput">
							<h4>Type Description  <span class="required">*</span></h4>
							<input type="text" name="otherEvent"> 
						</div>
						<h4>Location <span class="required">*</span></h4>
							<input type="text" name="location"> 
						<h4>Website</h4>
							<input type="text" name="website"> 
						</br>
						<h4>Date <span class="required">*</span></h4> 
							<input type="date" name= "eventDate" id="eventDate" value="2020-01-01">
						
						<h4>Event Details <span class="required">*</span></h4>
							<input type="text" name="eventDetails"> 
						<br>
						<h4>Contact Info</h4>
							<ul class="contact">
								<li>Email <span class="required">*</span><input type="text" name="email">  </li>
								<li>Phone <input type="text" name="phone"> </li>
								<li>Address <input type="text" name="address"> </li>
							</ul>
						<h4 class="addImg">Add Images</h4> 
							<label for="file-upload" class="custom-file-upload">
								<i class="fas fa-images"></i>
						</label>
						<input id="file-upload" type="file"/>
						<br> <br> <br>
						<input type="submit"  value="Submit">
						<br> <br> <br>
					</form> 
				</section>
			</section>
		</div> 
		<script>
			function toggleMenu() {
				var x = document.getElementById("myNavBar3");
				if (x.className === "navbar") {
				x.className += " collapsed";
				} else {
					x.className = "navbar";
				}
			}

			function openInput() {
				var div = document.getElementById("otherInput");
				div.style.display ="block";
			}
			
			function closeInput() {
				var div = document.getElementById("otherInput");
				div.style.display ="none";
				var msg = document.getElementById("error2");
				msg.style.display="none";
			}
			
			function submitForm() {
				var formErrors = ["","","","","","",""];
				var input1  = document.form1.eventName.value;
				if (input1 == "") {
					formErrors[0] = "Please input a name for your event name";
				}
				var input2 = document.form1.eventType.value; 
				if (input2 == "" ) {
					formErrors[1] = "Please choose a post type";
				}
				if (input2 == "Other"){
					var input3  = document.form1.otherEvent.value; 
					if (input3 == "") {
						formErrors[2] = "Please enter a description for the your type of event";
					}
				}
				var input4 = document.form1.location.value;
				if (input4 == "") {
					formErrors[3] = "Please input an location";
				}
				var input5 = document.form1.eventDate.value;
				var validDate = 0;
				
				var today = new Date(); 
				var year = today.getFullYear()
				if (input5.slice(0,4) >= year) {
					if (input5.slice(0,4) == year) {
						var month=today.getMonth();
						month = month + 1;
						if (input5.slice(5,7) >= month) {
							if (input5.slice(5,7) == month) {
								var day = today.getDate();
								if (input5.slice(8,10) >= day) {
									validDate = 1;
								}
							} else {
								validDate = 1;
							}
						}
					} else {
						validDate = 1;
					}
				}
				if (validDate != 1) {
					formErrors[4] = "Please enter a valid date";
				}
				var input6 = document.form1.eventDetails.value;
				if (input6 == "") {
					formErrors[5]="Please include details for the event"
				}
				var input7 = document.form1.email.value;
				if (input7 == "") {
					formErrors[6] = "Please enter a valid email address";
				} else {
					if (input7.search("@") == -1) {
						formErrors[6] = "Please enter a valid email address";
					}
				}
				var i=0;
				var passed=1;
				var alertMessage="";
				for (i=0;i<7;i++) {
					var errName = "error"+i;
					if (formErrors[i] != "") {
						alertMessage += formErrors[i] + "\n";
						passed=0;
					}
				}
				if (passed == 0) {
					alert(alertMessage);
					return false;
				} else {
					return true;
				}
			}
		</script>
	</body>
</html>
	